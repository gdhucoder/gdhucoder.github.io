<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>算法4习题 2.1.12 - CoderPunk</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="算法4习题 2.1.12" />
<meta property="og:description" content="算法4习题 2.1.12 问题 Instrument shellsort to print the number of compares divided by the array size for each increment. Write a test client that tests the hypothesis that this number is a small constant, by sorting arrays of random Double values, using array sizes that are increasing powers of 10, starting at 100.
打印希尔排序中每个增量带来的比较次数和数组大小的比值。 验证该值是一个小常数。
思路 统计每个增量对应的比较次数。
private static boolean less(Comparable v, Comparable w) { count &#43;&#43; ; return v.compareTo(w) &lt; 0; } 解答 Extensive experiments suggest that the average number of compares per increment might be N^(1/5) 大量实验表明每个增量的比较次数约为N的1/5次方。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gdhucoder.github.io/post/alg4/chapter2/chapter2-1-12/" />
<meta property="article:published_time" content="2018-08-06T08:00:00+08:00" />
<meta property="article:modified_time" content="2018-08-06T08:00:00+08:00" />

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="CoderPunk" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">CoderPunk</div>
					<div class="logo__tagline">A Programmer&#39;s self-cultivation</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/post">
				
				<span class="menu__text">技术文章</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/reading">
				
				<span class="menu__text">读书</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/thinking">
				
				<span class="menu__text">思考</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about">
				
				<span class="menu__text">关于我</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="https://github.com/gdhucoder">
				
				<span class="menu__text">ToMyGit</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">算法4习题 2.1.12</h1>
			
		</header><div class="content post__content clearfix">
			<h1 id="算法4习题-2112">算法4习题 2.1.12</h1>
<h2 id="问题">问题</h2>
<p>Instrument shellsort to print the number of compares divided by the array size for each increment. Write a test client that tests the hypothesis that this number is a small constant, by sorting arrays of random Double values, using array sizes that are increasing powers of 10, starting at 100.</p>
<p>打印希尔排序中每个增量带来的比较次数和数组大小的比值。
验证该值是一个小常数。</p>
<h2 id="思路">思路</h2>
<p>统计每个增量对应的比较次数。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">less</span><span style="color:#f92672">(</span>Comparable v<span style="color:#f92672">,</span> Comparable w<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    count <span style="color:#f92672">++</span> <span style="color:#f92672">;</span>
    <span style="color:#66d9ef">return</span> v<span style="color:#f92672">.</span><span style="color:#a6e22e">compareTo</span><span style="color:#f92672">(</span>w<span style="color:#f92672">)</span> <span style="color:#f92672">&lt;</span> 0<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>
</code></pre></div><h2 id="解答">解答</h2>
<p>Extensive experiments suggest that the average number of compares per increment might be N^(1/5)
大量实验表明每个增量的比较次数约为N的1/5次方。</p>
<p>这个结果，我觉得是有点怪的。题目中说是一个小常数，我理解是不变的常数。但是结果看下来，发现数值是变的。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">For array length <span style="color:#f92672">=</span>       1000<span style="color:#f92672">,</span> N<span style="color:#f92672">^(</span>1<span style="color:#f92672">/</span>5<span style="color:#f92672">):</span> 3<span style="color:#f92672">.</span><span style="color:#a6e22e">98</span> 
h:        364 	       0<span style="color:#f92672">.</span><span style="color:#a6e22e">81</span> 
h:        121 	       1<span style="color:#f92672">.</span><span style="color:#a6e22e">67</span> 
h:         40 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">26</span> 
h:         13 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">80</span> 
h:          4 	       3<span style="color:#f92672">.</span><span style="color:#a6e22e">57</span> 
h:          1 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">70</span> 

For array length <span style="color:#f92672">=</span>      10000<span style="color:#f92672">,</span> N<span style="color:#f92672">^(</span>1<span style="color:#f92672">/</span>5<span style="color:#f92672">):</span> 6<span style="color:#f92672">.</span><span style="color:#a6e22e">31</span> 
h:       9841 	       0<span style="color:#f92672">.</span><span style="color:#a6e22e">02</span> 
h:       3280 	       0<span style="color:#f92672">.</span><span style="color:#a6e22e">90</span> 
h:       1093 	       1<span style="color:#f92672">.</span><span style="color:#a6e22e">71</span> 
h:        364 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">36</span> 
h:        121 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">96</span> 
h:         40 	       3<span style="color:#f92672">.</span><span style="color:#a6e22e">70</span> 
h:         13 	       4<span style="color:#f92672">.</span><span style="color:#a6e22e">35</span> 
h:          4 	       3<span style="color:#f92672">.</span><span style="color:#a6e22e">75</span> 
h:          1 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">74</span> 

For array length <span style="color:#f92672">=</span>     100000<span style="color:#f92672">,</span> N<span style="color:#f92672">^(</span>1<span style="color:#f92672">/</span>5<span style="color:#f92672">):</span> 10<span style="color:#f92672">.</span><span style="color:#a6e22e">00</span> 
h:      88573 	       0<span style="color:#f92672">.</span><span style="color:#a6e22e">11</span> 
h:      29524 	       0<span style="color:#f92672">.</span><span style="color:#a6e22e">98</span> 
h:       9841 	       1<span style="color:#f92672">.</span><span style="color:#a6e22e">76</span> 
h:       3280 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">40</span> 
h:       1093 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">98</span> 
h:        364 	       3<span style="color:#f92672">.</span><span style="color:#a6e22e">67</span> 
h:        121 	       4<span style="color:#f92672">.</span><span style="color:#a6e22e">98</span> 
h:         40 	       6<span style="color:#f92672">.</span><span style="color:#a6e22e">49</span> 
h:         13 	       8<span style="color:#f92672">.</span><span style="color:#a6e22e">70</span> 
h:          4 	       4<span style="color:#f92672">.</span><span style="color:#a6e22e">72</span> 
h:          1 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">74</span> 

For array length <span style="color:#f92672">=</span>    1000000<span style="color:#f92672">,</span> N<span style="color:#f92672">^(</span>1<span style="color:#f92672">/</span>5<span style="color:#f92672">):</span> 15<span style="color:#f92672">.</span><span style="color:#a6e22e">85</span> 
h:     797161 	       0<span style="color:#f92672">.</span><span style="color:#a6e22e">20</span> 
h:     265720 	       1<span style="color:#f92672">.</span><span style="color:#a6e22e">05</span> 
h:      88573 	       1<span style="color:#f92672">.</span><span style="color:#a6e22e">83</span> 
h:      29524 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">45</span> 
h:       9841 	       3<span style="color:#f92672">.</span><span style="color:#a6e22e">07</span> 
h:       3280 	       3<span style="color:#f92672">.</span><span style="color:#a6e22e">84</span> 
h:       1093 	       5<span style="color:#f92672">.</span><span style="color:#a6e22e">00</span> 
h:        364 	       6<span style="color:#f92672">.</span><span style="color:#a6e22e">48</span> 
h:        121 	       8<span style="color:#f92672">.</span><span style="color:#a6e22e">78</span> 
h:         40 	      13<span style="color:#f92672">.</span><span style="color:#a6e22e">68</span> 
h:         13 	      10<span style="color:#f92672">.</span><span style="color:#a6e22e">22</span> 
h:          4 	       4<span style="color:#f92672">.</span><span style="color:#a6e22e">85</span> 
h:          1 	       2<span style="color:#f92672">.</span><span style="color:#a6e22e">75</span> 
</code></pre></div>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/java/" rel="tag">JAVA</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="HuGuoDong avatar" src="/img/head.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About HuGuoDong</span>
	</div>
	<div class="authorbox__description">
		gdong.hu[at]gmail.com
	</div>
</div>



<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "guodonghu" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 CoderPunk.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>